{"ast":null,"code":"import { CID } from 'multiformats';\nimport { BaseBlockstore } from 'blockstore-core';\nexport class MemoryBlockStore extends BaseBlockstore {\n  constructor() {\n    super();\n    this.store = new Map();\n  }\n\n  async *blocks() {\n    for (const [cidStr, bytes] of this.store.entries()) {\n      yield {\n        cid: CID.parse(cidStr),\n        bytes\n      };\n    }\n  }\n\n  put(cid, bytes) {\n    this.store.set(cid.toString(), bytes);\n    return Promise.resolve();\n  }\n\n  get(cid) {\n    const bytes = this.store.get(cid.toString());\n\n    if (!bytes) {\n      throw new Error(`block with cid ${cid.toString()} no found`);\n    }\n\n    return Promise.resolve(bytes);\n  }\n\n  has(cid) {\n    return Promise.resolve(this.store.has(cid.toString()));\n  }\n\n  close() {\n    this.store.clear();\n    return Promise.resolve();\n  }\n\n}","map":{"version":3,"sources":["/Users/g2musicgroup/Developer/NFT-starter/filecoin_nft_starter-main/node_modules/ipfs-car/dist/esm/blockstore/memory.js"],"names":["CID","BaseBlockstore","MemoryBlockStore","constructor","store","Map","blocks","cidStr","bytes","entries","cid","parse","put","set","toString","Promise","resolve","get","Error","has","close","clear"],"mappings":"AAAA,SAASA,GAAT,QAAoB,cAApB;AACA,SAASC,cAAT,QAA+B,iBAA/B;AACA,OAAO,MAAMC,gBAAN,SAA+BD,cAA/B,CAA8C;AACjDE,EAAAA,WAAW,GAAG;AACV;AACA,SAAKC,KAAL,GAAa,IAAIC,GAAJ,EAAb;AACH;;AACY,SAANC,MAAM,GAAG;AACZ,SAAK,MAAM,CAACC,MAAD,EAASC,KAAT,CAAX,IAA8B,KAAKJ,KAAL,CAAWK,OAAX,EAA9B,EAAoD;AAChD,YAAM;AAAEC,QAAAA,GAAG,EAAEV,GAAG,CAACW,KAAJ,CAAUJ,MAAV,CAAP;AAA0BC,QAAAA;AAA1B,OAAN;AACH;AACJ;;AACDI,EAAAA,GAAG,CAACF,GAAD,EAAMF,KAAN,EAAa;AACZ,SAAKJ,KAAL,CAAWS,GAAX,CAAeH,GAAG,CAACI,QAAJ,EAAf,EAA+BN,KAA/B;AACA,WAAOO,OAAO,CAACC,OAAR,EAAP;AACH;;AACDC,EAAAA,GAAG,CAACP,GAAD,EAAM;AACL,UAAMF,KAAK,GAAG,KAAKJ,KAAL,CAAWa,GAAX,CAAeP,GAAG,CAACI,QAAJ,EAAf,CAAd;;AACA,QAAI,CAACN,KAAL,EAAY;AACR,YAAM,IAAIU,KAAJ,CAAW,kBAAiBR,GAAG,CAACI,QAAJ,EAAe,WAA3C,CAAN;AACH;;AACD,WAAOC,OAAO,CAACC,OAAR,CAAgBR,KAAhB,CAAP;AACH;;AACDW,EAAAA,GAAG,CAACT,GAAD,EAAM;AACL,WAAOK,OAAO,CAACC,OAAR,CAAgB,KAAKZ,KAAL,CAAWe,GAAX,CAAeT,GAAG,CAACI,QAAJ,EAAf,CAAhB,CAAP;AACH;;AACDM,EAAAA,KAAK,GAAG;AACJ,SAAKhB,KAAL,CAAWiB,KAAX;AACA,WAAON,OAAO,CAACC,OAAR,EAAP;AACH;;AA3BgD","sourcesContent":["import { CID } from 'multiformats';\nimport { BaseBlockstore } from 'blockstore-core';\nexport class MemoryBlockStore extends BaseBlockstore {\n    constructor() {\n        super();\n        this.store = new Map();\n    }\n    async *blocks() {\n        for (const [cidStr, bytes] of this.store.entries()) {\n            yield { cid: CID.parse(cidStr), bytes };\n        }\n    }\n    put(cid, bytes) {\n        this.store.set(cid.toString(), bytes);\n        return Promise.resolve();\n    }\n    get(cid) {\n        const bytes = this.store.get(cid.toString());\n        if (!bytes) {\n            throw new Error(`block with cid ${cid.toString()} no found`);\n        }\n        return Promise.resolve(bytes);\n    }\n    has(cid) {\n        return Promise.resolve(this.store.has(cid.toString()));\n    }\n    close() {\n        this.store.clear();\n        return Promise.resolve();\n    }\n}\n"]},"metadata":{},"sourceType":"module"}